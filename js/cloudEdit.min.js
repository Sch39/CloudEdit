$(document).ready(function(){var d=false;var a=false;var c=false;$("#htmlToggle").on("click",function(h){h.preventDefault();g(this,"html")});$("#cssToggle").on("click",function(h){h.preventDefault();g(this,"css")});$("#jsToggle").on("click",function(h){h.preventDefault();g(this,"js")});$("#consoleToggle").on("click",function(h){h.preventDefault();$(this).toggleClass("btn-hidden");$(".console").toggle()});$("#previewToggle").on("click",function(h){h.preventDefault();$(this).toggleClass("btn-hidden");$("iframe").toggleClass("popped")});function g(i,h){var j=e();if(j>1||$(i).hasClass("btn-hidden")){$(i).toggleClass("btn-hidden");$(".window."+h).toggle();f()}else{alert("You Must Have at least one Editor open")}}function f(){var h=e();var i=$(".window");if(h===3||h===0){i.css("width","33%")}else{if(h===2){i.css("width","49.5%")}else{if(h===1){i.css("width","100%")}}}}function e(){var i=3;var h=$(".window");h.each(function(j){if($(h[j]).css("display")==="none"){i-=1}});return i}$("#run").on("click",function(h){h.preventDefault();var i={html:htmlField.getValue(),css:cssField.getValue(),js:jsField.getValue(),scripts:""};if(d){i.scripts+='<script src="js/preview/prefixfree.min.js"><\/script>\n'}if(a){i.scripts+='<script src="js/preview/modernizr.min.js"><\/script>\n'}if(c){i.scripts+='<link href="css/preview/normalize.min.css" rel="stylesheet">\n'}(document.getElementById("preview").contentWindow.document).write('<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"><\/script>\n'+i.scripts+"<style>\n"+i.css+"\n</style>\n</head>\n<body>\n"+i.html+'\n<script src="js/preview/console.min.js"><\/script>\n<script>\n'+i.js+"\n<\/script>\n</body>\n</html>");(document.getElementById("preview").contentWindow.document).close()});$("#clear").on("click",function(){htmlField.setValue("<!-- Do not place html/head/body tags here.\nInsert the tags as would normally be used in your\nbody element. <script> tags ARE allowed, though\nthey're best placed at the end of your HTML -->\n");htmlField.clearSelection();cssField.setValue("");jsField.setValue("");$("#console").empty();sessionStorage.clear();(document.getElementById("preview").contentWindow.document).write("");(document.getElementById("preview").contentWindow.document).close()});$("#download").on("click",function(){var l=$("#download")[0];var i={html:htmlField.getValue(),css:cssField.getValue(),js:jsField.getValue()};var k='<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"><\/script>\n<style>\n'+i.css+"\n</style>\n</head>\n<body>\n"+i.html+"\n<script>\n"+i.js+"\n<\/script>\n</body>\n</html>";var h=new Blob([k],{type:"text/plain"});var j="index.html";l.download=j;if(typeof window.webkitURL==="function"){l.href=window.webkitURL.createObjectURL(h)}else{l.href=window.URL.createObjectURL(h)}});(function(){$.contextMenu({selector:".windowGroup",items:{imports:{name:"Imports",items:{prefixfree:{name:"-prefix-free",type:"checkbox",selected:false},modernizr:{name:"Modernizr",type:"checkbox",selected:false},normalize:{name:"CSS Normalize",type:"checkbox",selected:false}}},themes:{name:"Themes",items:{light:{name:"Light",items:{chrome:{name:"Chrome",callback:function(){b("chrome")}},dreamweaver:{name:"Dreamweaver",callback:function(){b("dreamweaver")}},dawn:{name:"Dawn",callback:function(){b("dawn")}},tomorrow:{name:"Tomorow",callback:function(){b("tomorrow")}},xcode:{name:"XCode",callback:function(){b("xcode")}},kuroir:{name:"Kuroir",callback:function(){b("kuroir")}},katzenmilch:{name:"KatzenMilch",callback:function(){b("katzenmilch")}}}},dark:{name:"Dark",items:{ambiance:{name:"Ambiance",callback:function(){b("ambiance")}},cloudsmidnight:{name:"Clouds Midight",callback:function(){b("clouds_midnight")}},idlefingers:{name:"Idle Fingers",callback:function(){b("idle_fingers")}},merbivore:{name:"Merbivore",callback:function(){b("merbivore")}},merbivoresoft:{name:"Merbivore Soft",callback:function(){b("merbivore_soft")}},monokai:{name:"Monokai",callback:function(){b("monokai")}},tomorrownight:{name:"Tomorrow Night",callback:function(){b("tomorrow_night")}},twilight:{name:"Twilight",callback:function(){b("twilight")}}}},"default":{name:"Default",callback:function(){b("chrome")}}}}},events:{show:function(h){var i=this;$.contextMenu.setInputValues(h,i.data())},hide:function(h){var i=this;$.contextMenu.getInputValues(h,i.data())}}})})();$("input[name*='context-menu-input']").click(function(){var i=$(this).is(":checked");var h=$(this)[0].name;switch(h){case"context-menu-input-prefixfree":d=i;console.log("Prefixfree is: "+String(d));break;case"context-menu-input-modernizr":a=i;console.log("Modernizr is: "+String(a));break;case"context-menu-input-normalize":c=i;console.log("Normalize is: "+String(c));break}});function b(h){h="ace/theme/"+h;htmlField.setTheme(h);cssField.setTheme(h);jsField.setTheme(h);consoleField.setTheme(h);localStorage.setItem("theme",h)}$(".console").on("contextmenu",function(h){h.preventDefault();consoleField.setValue("")});window.onbeforeunload=function(i){i=i||window.event;var h="Your current session will be lost..";if(i){i.returnValue=h}return h}});