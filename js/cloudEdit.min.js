$(document).ready(function(){var g=false;var a=false;var c=false;$("#htmlToggle").on("click",function(i){i.preventDefault();f(this,"html")});$("#cssToggle").on("click",function(i){i.preventDefault();f(this,"css")});$("#jsToggle").on("click",function(i){i.preventDefault();f(this,"js")});$("#consoleToggle").on("click",function(i){i.preventDefault();$(this).toggleClass("btn-hidden");$(".console").toggle()});$("#previewToggle, #iframeClose").on("click",function(i){i.preventDefault();$(this).toggleClass("btn-hidden");$(".preview, html, body, section, #iframeLabel, #iframeClose").toggleClass("modal-open")});function f(j,i){var k=d();if(k>1||$(j).hasClass("btn-hidden")){$(j).toggleClass("btn-hidden");$(".window."+i).toggle();e()}else{alert("You Must Have at least one Editor open")}}function e(){var i=d();var j=$(".window");if(i===3||i===0){j.css("width","33%")}else{if(i===2){j.css("width","49.5%")}else{if(i===1){j.css("width","100%")}}}}function d(){var j=3;var i=$(".window");i.each(function(k){if($(i[k]).css("display")==="none"){j-=1}});return j}function h(k){var j={html:htmlField.getValue(),css:"",preview:"",js:jsField.getValue(),scripts:""};if(k&&k==="preview"){j.preview+='<script src="js/console.min.js"><\/script>\n'}if(g){var i=cssField.getValue();j.css=autoprefixer({cascade:true}).process(i).css}else{j.css=cssField.getValue()}if(a){j.scripts+='<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.7.1/modernizr.min.js"><\/script>\n'}if(c){j.scripts+='<link href="http://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.1/normalize.min.css" rel="stylesheet">\n'}var l='<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"><\/script>\n'+j.scripts+"<style>\n"+j.css+"\n</style>\n</head>\n<body>\n"+j.html+"\n"+j.preview+"<script>\n"+j.js+"\n<\/script>\n</body>\n</html>";return l}$("#run").on("click",function(i){i.preventDefault();var j=h("preview");(document.getElementById("iframe").contentWindow.document).write(j);(document.getElementById("iframe").contentWindow.document).close()});$("#download").on("click",function(){var l=$("#download")[0];var k=h();var i=new Blob([k],{type:"text/plain"});var j="index.html";l.download=j;if(typeof window.webkitURL==="function"){l.href=window.webkitURL.createObjectURL(i)}else{l.href=window.URL.createObjectURL(i)}});$("#clear").on("click",function(){htmlField.setValue("<!-- Do not place html/head/body tags here.\nInsert the tags as would normally be used in your\nbody element. <script> tags ARE allowed, though\nthey're best placed at the end of your HTML -->\n");htmlField.clearSelection();cssField.setValue("");jsField.setValue("");$("#console").empty();sessionStorage.clear();(document.getElementById("iframe").contentWindow.document).write("");(document.getElementById("iframe").contentWindow.document).close()});(function(){$.contextMenu({selector:".windowGroup",items:{imports:{name:"Imports",items:{autoprefixer:{name:"Autoprefixer",type:"checkbox",selected:false},modernizr:{name:"Modernizr",type:"checkbox",selected:false},normalize:{name:"CSS Normalize",type:"checkbox",selected:false}}},themes:{name:"Themes",items:{light:{name:"Light",items:{chrome:{name:"Chrome",callback:function(){b("chrome")}},dreamweaver:{name:"Dreamweaver",callback:function(){b("dreamweaver")}},dawn:{name:"Dawn",callback:function(){b("dawn")}},tomorrow:{name:"Tomorow",callback:function(){b("tomorrow")}},xcode:{name:"XCode",callback:function(){b("xcode")}},kuroir:{name:"Kuroir",callback:function(){b("kuroir")}},katzenmilch:{name:"KatzenMilch",callback:function(){b("katzenmilch")}}}},dark:{name:"Dark",items:{ambiance:{name:"Ambiance",callback:function(){b("ambiance")}},cloudsmidnight:{name:"Clouds Midight",callback:function(){b("clouds_midnight")}},idlefingers:{name:"Idle Fingers",callback:function(){b("idle_fingers")}},merbivore:{name:"Merbivore",callback:function(){b("merbivore")}},merbivoresoft:{name:"Merbivore Soft",callback:function(){b("merbivore_soft")}},monokai:{name:"Monokai",callback:function(){b("monokai")}},tomorrownight:{name:"Tomorrow Night",callback:function(){b("tomorrow_night")}},twilight:{name:"Twilight",callback:function(){b("twilight")}}}},"default":{name:"Default",callback:function(){b("chrome")}}}}},events:{show:function(i){var j=this;$.contextMenu.setInputValues(i,j.data())},hide:function(i){var j=this;$.contextMenu.getInputValues(i,j.data())}}})})();$("input[name*='context-menu-input']").click(function(){var j=$(this).is(":checked");var i=$(this)[0].name;switch(i){case"context-menu-input-autoprefixer":g=j;break;case"context-menu-input-modernizr":a=j;break;case"context-menu-input-normalize":c=j;break}});function b(i){i="ace/theme/"+i;htmlField.setTheme(i);cssField.setTheme(i);jsField.setTheme(i);consoleField.setTheme(i);localStorage.setItem("theme",i)}$(".console").on("contextmenu",function(i){i.preventDefault();consoleField.setValue("")});window.onbeforeunload=function(j){j=j||window.event;var i="Your current session will be lost..";if(j){j.returnValue=i}return i}});