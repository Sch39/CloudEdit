$(document).ready(function(){var a={Autoprefixer:false,Less:false,Sass:false,Modernizr:false,Normalize:false,Bootstrap:false,Foundation:false};$("#htmlToggle").on("click",function(g){g.preventDefault();e(this,"html")});$("#cssToggle").on("click",function(g){g.preventDefault();e(this,"css")});$("#jsToggle").on("click",function(g){g.preventDefault();e(this,"js")});$("#consoleToggle").on("click",function(g){g.preventDefault();$(this).toggleClass("btn-hidden");$(".console").toggle()});$("#previewToggle, #iframeClose").on("click",function(g){g.preventDefault();$("#previewToggle").toggleClass("btn-hidden");$(".preview, html, body, section, #iframeLabel, #iframeClose").toggleClass("modal-open")});function e(h,g){var i=c();if(i>1||$(h).hasClass("btn-hidden")){$(h).toggleClass("btn-hidden");$(".window."+g).toggle();d()}else{alert("You Must Have at least one Editor open")}}function d(){var g=c();var h=$(".window");if(g===3||g===0){h.css("width","33%")}else{if(g===2){h.css("width","49.5%")}else{if(g===1){h.css("width","100%")}}}}function c(){var h=3;var g=$(".window");g.each(function(i){if($(g[i]).css("display")==="none"){h-=1}});return h}function f(h){var j={html:htmlField.getValue(),style:cssField.getValue(),js:jsField.getValue()};if(a.Sass&&!($("#sass").length)){var g=null;g=new XMLHttpRequest();g.open("GET","http://rawgithub.com/medialize/sass.js/master/dist/sass.min.js",false);g.send(null);var k=document.createElement("script");k.id="sass";k.type="text/javascript";k.text=g.responseText;document.getElementsByTagName("head")[0].appendChild(k)}var i="";i+='<html lang="en">\n';i+="<head>\n";i+='<meta charset="UTF-8">\n';if(a.Normalize){i+='<link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.1/normalize.min.css" rel="stylesheet">\n'}if(a.Bootstrap){i+='<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">\n'}if(a.Foundation){i+='<link href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.2.2/css/foundation.min.css" rel="stylesheet">\n'}if(a.Less){i+='<style type="text/less">\n'}else{i+='<style type="text/css">\n'}if(a.Autoprefixer){i+=autoprefixer({cascade:true}).process(j.style).css}else{if(a.Sass){i+=Sass.compile(j.style)}else{i+=j.style}}i+="\n</style>\n";i+='<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"><\/script>\n';if(a.Bootstrap){i+='<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js"><\/script>\n'}if(a.Foundation){i+='<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.2.2/js/foundation/foundation.min.js"><\/script>\n'}if(a.Modernizr){i+='<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.7.1/modernizr.min.js"><\/script>\n'}if(a.Less){i+='<script src="https://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.0/less.min.js"><\/script>\n'}i+="</head>\n";i+="<body>\n";i+=j.html;if(h){i+='<script src="js/console.min.js"><\/script>\n'}i+="\n<script>\n";i+=j.js;i+="\n<\/script>\n";i+="</body>\n";i+="</html>";return i}$("#run").on("click",function(g){g.preventDefault();var h=f(true);(document.getElementById("iframe").contentWindow.document).write(h);(document.getElementById("iframe").contentWindow.document).close()});$("#download").on("click",function(){var j=$("#download")[0];var i=f(false);var g=new Blob([i],{type:"text/plain"});var h="index.html";j.download=h;if(typeof window.webkitURL==="function"){j.href=window.webkitURL.createObjectURL(g)}else{j.href=window.URL.createObjectURL(g)}});$("#clear").on("click",function(){htmlField.setValue("<!-- Do not place html/head/body tags here.\nInsert the tags as would normally be used in your\nbody element. <script> tags ARE allowed, though\nthey're best placed at the end of your HTML -->\n");htmlField.clearSelection();cssField.setValue("");jsField.setValue("");$("#console").empty();sessionStorage.clear();(document.getElementById("iframe").contentWindow.document).write("");(document.getElementById("iframe").contentWindow.document).close()});(function(){$.contextMenu({selector:".windowGroup",items:{css:{name:"CSS Options",items:{plaincss:{name:"Plain CSS [Default]",type:"radio",radio:"css",value:"plaincss",selected:true},autoprefixer:{name:"Autoprefixer",type:"radio",radio:"css",value:"autoprefixer",selected:false},less:{name:"Less CSS",type:"radio",radio:"css",value:"less",selected:false},sass:{name:"Sass CSS [Experimental]",type:"radio",radio:"css",value:"sass",selected:false},normalize:{name:"Normalize CSS",type:"checkbox",selected:false},modernizr:{name:"Modernizr",type:"checkbox",selected:false}}},framework:{name:"Frameworks",items:{none:{name:"None [Default]",type:"radio",radio:"framework",value:"none",selected:true},bootstrap:{name:"Bootstrap",type:"radio",radio:"framework",value:"bootstrap",selected:false},foundation:{name:"Foundation",type:"radio",radio:"framework",value:"foundation",selected:false}}},themes:{name:"Editor Themes",items:{light:{name:"Light",items:{chrome:{name:"Chrome [Default]",callback:function(){b("chrome")}},dreamweaver:{name:"Dreamweaver",callback:function(){b("dreamweaver")}},dawn:{name:"Dawn",callback:function(){b("dawn")}},tomorrow:{name:"Tomorow",callback:function(){b("tomorrow")}},xcode:{name:"XCode",callback:function(){b("xcode")}},kuroir:{name:"Kuroir",callback:function(){b("kuroir")}},katzenmilch:{name:"KatzenMilch",callback:function(){b("katzenmilch")}}}},dark:{name:"Dark",items:{ambiance:{name:"Ambiance",callback:function(){b("ambiance")}},cloudsmidnight:{name:"Clouds Midight",callback:function(){b("clouds_midnight")}},idlefingers:{name:"Idle Fingers",callback:function(){b("idle_fingers")}},merbivore:{name:"Merbivore",callback:function(){b("merbivore")}},merbivoresoft:{name:"Merbivore Soft",callback:function(){b("merbivore_soft")}},monokai:{name:"Monokai",callback:function(){b("monokai")}},tomorrownight:{name:"Tomorrow Night",callback:function(){b("tomorrow_night")}},twilight:{name:"Twilight",callback:function(){b("twilight")}}}},"default":{name:"Default",callback:function(){b("chrome")}}}}},events:{show:function(g){var h=this;$.contextMenu.setInputValues(g,h.data())},hide:function(g){var h=this;$.contextMenu.getInputValues(g,h.data())}}})})();$(".context-menu-list").on("click","input[name*='context-menu-input']",function(){var i=$(this).val();if(i){switch(i){case"plaincss":$("#cssLabel").text("CSS");cssField.getSession().setMode("ace/mode/css");a.Autoprefixer=false;a.Less=false;a.Sass=false;break;case"autoprefixer":$("#cssLabel").text("CSS");cssField.getSession().setMode("ace/mode/css");a.Autoprefixer=true;a.Less=false;a.Sass=false;break;case"less":$("#cssLabel").text("LESS");cssField.getSession().setMode("ace/mode/less");a.Less=true;a.Sass=false;a.Autoprefixer=false;break;case"sass":$("#cssLabel").text("SASS");cssField.getSession().setMode("ace/mode/sass");a.Sass=true;a.Less=false;a.Autoprefixer=false;break;case"none":a.Bootstrap=false;a.Foundation=false;case"bootstrap":a.Bootstrap=true;a.Foundation=false;break;case"foundation":a.Foundation=true;a.Bootstrap=false}}else{var h=$(this).is(":checked");var g=event.target.name;switch(g){case"context-menu-input-modernizr":a.Modernizr=h;break;case"context-menu-input-normalize":a.Normalize=h;break}}});function b(g){g="ace/theme/"+g;htmlField.setTheme(g);cssField.setTheme(g);jsField.setTheme(g);consoleField.setTheme(g);localStorage.setItem("theme",g)}$(".console").on("contextmenu",function(g){g.preventDefault();consoleField.setValue("")});window.onbeforeunload=function(h){h=h||window.event;var g="Your current session will be lost..";if(h){h.returnValue=g}return g}});